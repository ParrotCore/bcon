# Zaawansowany przykład klas w BCON
# Demonstracja kompozycji, dziedziczenia i walidacji typów

# Klasa bazowa dla współrzędnych
class Coordinates [
    @lat: Number;
    @lon: Number;
];

# Klasa bazowa dla adresu
class Address [
    @street?: String;
    @city: String;
    @country: String;
    @coordinates?: Coordinates;
];

# Klasa bazowa dla budynku
class Building [
    @name: String;
    @address: Address;
    @yearBuilt?: Number;
];

# Klasa dla muzeum (dziedziczy po Building)
class Museum extends Building [
    @collections: Array;
    @openingHours: String;
];

# Klasa dla organizacji
class Organization [
    @name: String;
    @founded: Date;
    @headquarters: Address;
];

# Klasa dla miasta z rozszerzonymi informacjami
class City [
    @name: String;
    @population: Number;
    @area: Number;
    @founded?: Date;
    @coordinates: Coordinates;
    @landmarks: Array;
    @government: [
        @mayor: String;
        @type: String;
    ];
];

# Tworzenie instancji z zagnieżdżonymi obiektami
use City [
    @name => "Kraków";
    @population => 780000;
    @area => 326.8;
    @founded => "01-06-1257".date;
    @coordinates => Coordinates [
        @lat => 50.0647;
        @lon => 19.9450;
    ];
    @landmarks => [
        @* => "Wawel Castle";
        @* => "Main Market Square";
        @* => "St. Mary's Basilica";
    ];
    @government => [
        @mayor => "Jacek Majchrowski";
        @type => "Presidential system";
    ];
] as krakow;

# Przykład muzeum
use Museum [
    @name => "National Museum";
    @address => Address [
        @city => "Kraków";
        @country => "Poland";
        @street => "al. 3 Maja 1";
        @coordinates => Coordinates [
            @lat => 50.0574;
            @lon => 19.9237;
        ];
    ];
    @yearBuilt => 1879;
    @collections => [
        @* => "Polish Art";
        @* => "European Art";
        @* => "Decorative Arts";
    ];
    @openingHours => "Tue-Sun 10:00-18:00";
] as museum;

export [
    @city => krakow;
    @museum => museum;
];
